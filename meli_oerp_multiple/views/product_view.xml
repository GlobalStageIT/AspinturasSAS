<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

      <record model="ir.ui.view" id="mercadolibre_product_template_form_view">
        <field name="name">mercadolibre.product_template.form</field>
        <field name="model">mercadolibre.product_template</field>
        <field name="arch" type="xml">
          <form string="MercadoLibre Product Template Form">
            <!--header>
              <field name="status" widget="statusbar"/>
            </header-->
            <sheet>
              <div class="oe_title">
                <h1><field name="name"/></h1>
              </div>
              <group>
                <group>
                  <field name="connection_account"/>
                  <field name="product_tmpl_id" string="Odoo Product Template"/>
                  <field name="sku"/>
                  <field name="barcode"/>
                  <field name="conn_id"/>
                  <field name="price" />
                  <field name="meli_price" attrs="{'readonly':[('meli_price_fixed', '=', False)]}"/>
                  <field name="meli_price_fixed" />
                  <field name="meli_pricelist" />
                  <field name="stock" />
                  <field name="stock_update" />
                  <field name="stock_error" />
                  <field name="meli_shipping_logistic_type"/>
                </group>
              </group>
              <!--label for="sale_ok" position="after">
                  <field name="meli_pub" />
                  <label for="meli_pub" />
                  <field name="meli_publications" readonly="1" invisible="1"></field>
                  <field name="meli_variants_status" readonly="1" invisible="1"></field>
              </label-->
                <group name="ML actions">
                  <div class="oe_button_box" name="button_box_mel" style="width: auto;">
                    <button name='product_template_post' type="object"
                      string="Publicar"
                      title="Publicar/Actualizar en ML"
                      confirm="¿Está seguro que quiere publicar/actualizar los datos en ML?"
                      class="oe_stat_button"
                      icon="fa-globe"/>
                    <button name='product_template_post_stock' type="object"
                      string="Publicar Stock"
                      title="Publicar Stock en ML"
                      confirm="¿Está seguro que quiere publicar/actualizar stock en ML?"
                      class="oe_stat_button"
                      icon="fa-globe"/>
                    <button name='product_template_post_price' type="object"
                      string="Publicar Precio"
                      title="Publicar Precio en ML"
                      confirm="¿Está seguro que quiere publicar/actualizar precio en ML?"
                      class="oe_stat_button"
                      icon="fa-globe"/>
                    <button name='product_template_update' type="object"
                      string="Importar"
                      title="Importar datos desde ML"
                      confirm="¿Está seguro que quiere importar los datos desde ML?"
                      class="oe_stat_button"
                    icon="fa-cloud-download"/>
                    <button name='category_predictor' type="object"
                      string="Sugerir Categoria"
                      attrs="{'invisible':[('meli_category','!=',False)]}"
                      class="oe_stat_button"
                      icon="fa-refresh"/>
                      <button name='product_template_rebind' type="object"
                        string="Revincular"
                        title="Revincular, actualiza los vinculos completos por variante"
                        confirm="¿Está seguro que quiere revincular esta publicación?"
                        class="oe_stat_button"
                        icon="fa-refresh"/>
                    <button name='product_template_unbind' type="object"
                      string="Desvincular"
                      title="Desvincular, elimina el vinculo en Odoo, no la publicacion de ML"
                      confirm="¿Está seguro que quiere desvincular esta publicacion de Odoo de este producto?"
                      class="oe_stat_button"
                      icon="fa-close"/>
                  </div>
                </group>
                <!--separator string="Variants" colspan="1"/-->
                <!--field name="product_variant_ids" options="{'no_create': True}" domain="[('meli_id','!=',None)]">
                  <tree>
                    <field string="Id Pub" name="meli_id"/>
                    <field string="Id Var" name="meli_id_variation"/>
                    <field string="Variant" name="name"/>
                    <field string="Status" name="meli_status"/>
                    <field string="Sub Status" name="meli_sub_status"/>
                    <field string="ML Title" name="meli_title"/>
                    <field string="ML Price" name="meli_price"/>
                    <field string="ML Qty" name="meli_available_quantity"/>
                    <field string="Link" name="meli_permalink" widget="url"/>
                  </tree>
                </field-->
                <separator string="Variant bindings" colspan="1"/>
                <field name="variant_bindings">
                  <tree create="0" edit="1" delete="0" default_order='name asc'>
                    <field name="product_id"/>
                    <field name="name"/>
                    <field name="conn_id"/>
                    <field name="conn_variation_id"/>
                    <field name="sku"/>
                    <field name="barcode" optional="hide"/>
                    <field name="meli_status"/>
                    <field name="meli_sub_status" optional="hide"/>
                    <field name="stock"/>
                    <field name="price"/>

                    <field name="meli_permalink" widget="url"/>
                    <field name="meli_permalink_edit" widget="url"/>

                    <field name="full_update" optional="hide"/>
                    <field name="image_update" optional="hide"/>
                    <field name="price_update" optional="hide"/>
                    <field name="stock_update" optional="hide"/>
                    <field name="stock_error" optional="hide"/>
                  </tree>
                </field>
                <separator string="Descripcion del producto en ML" colspan="1"/>
                <group name="Basic description">
                  <field name="meli_title" />
                  <field name="meli_description" />
                  <field name="meli_category" />
                  <field name="meli_price"/>
                  <field name="meli_dimensions" />
                  <!--<field name="meli_attributes" />-->
                  <field name="meli_brand"/>
                  <field name="meli_model"/>
                </group>
                <separator string="Condiciones de venta" colspan="1"/>
                <group name="ML buying conditions">
                  <field name="meli_currency" />
                  <field name="meli_buying_mode" />
                  <field name="meli_warranty" />
                  <field name="meli_condition" />
                  <field name="meli_listing_type" />
                  <!--field name="meli_shipping_mode"/>
                  <field name="meli_shipping_method"/-->
                </group>
                <separator string="Variantes" colspan="1"/>
                <group name="variantes">
                  <field name="meli_pub_as_variant" />
                  <field name="meli_pub_variant_attributes"  widget="many2many_checkboxes"  options="{'no_create': True}" domain="[('product_tmpl_id','=',id)]"/>
                  <field name="meli_pub_principal_variant" invisible="0"/>
                </group>
                <separator string="Catalogo" colspan="1"/>
                <group name="catalogo">
                  <field name="meli_catalog_listing"/>
                  <field name="meli_catalog_product_id"/>
                  <field name="meli_catalog_item_relations"/>
                  <field name="meli_catalog_automatic_relist"/>
                </group>
                <separator string="Images" colspan="1"/>
                <field name="image_bindings" class="o_website_sale_image_list" context="{'default_name': name}" mode="kanban" options="{'create_text':'Add a Media'}" nolabel="1"/>
                <!--field name="product_template_image_ids" class="o_website_sale_image_list" context="{'default_name': name}" mode="kanban" options="{'create_text':'Add a Media'}" nolabel="1"/-->

        <!--
                <separator string="Import fields" colspan="1"/>
                <group name="Import fields">
                  <field name="meli_stock" invisible="1"/>
                  <field name="meli_product_bom" invisible="1"/>
                  <field name="meli_product_price" invisible="1"/>
                  <field name="meli_product_cost" invisible="1"/>
                  <field name="meli_product_code" invisible="1"/>
                  <field name="meli_product_supplier" invisible="1"/>
                </group>
        -->
                </sheet>
              </form>
        </field>
      </record>

      <record model="ir.ui.view" id="mercadolibre_product_form_view">
        <field name="name">mercadolibre.product.form</field>
        <field name="model">mercadolibre.product</field>
        <field name="arch" type="xml">
          <form string="MercadoLibre Product Variant Form">
            <!--header>
              <field name="status" widget="statusbar"/>
            </header-->
            <sheet>
              <div class="oe_title">
                <h1><field name="name"/></h1>
              </div>
              <group string="Account binding" name="account">
                <field name="connection_account"/>
                <field name="product_id" string="Odoo Product Variant"/>
                <field name="active"/>
                <field name="sku"/>
                <field name="barcode"/>
                <field name="conn_id"/>
                <field name="conn_variation_id"/>
                <field name="price" />
                <field name="meli_price"   attrs="{'readonly':[('meli_price_fixed', '=', False)]}"/>
                <field name="meli_pricelist" />
                <field name="meli_price_fixed" />
                <field name="stock" />
                <field name="stock_update" />
                <field name="stock_error" />
                <field name="meli_shipping_logistic_type"/>
              </group>
              <br/>
              <!--label for="sale_ok" position="after">
                  <field name="meli_pub" />
                  <label for="meli_pub" />
                  <field name="meli_publications" readonly="1" invisible="1"></field>
                  <field name="meli_variants_status" readonly="1" invisible="1"></field>
              </label-->
              <group name="buttons">
                <div class="oe_button_box" name="button_box_mel" style="width: auto;">
                  <button name='product_meli_get_product' type="object"
                    string="Importar"
                    title="Importar desde ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    class="oe_stat_button"
                    icon="fa-cloud-download"/>
                    <button name='action_category_predictor' type="object"
                      string="Sugerir Categoria"
                      class="oe_stat_button"
                      icon="fa-refresh"
                      attrs="{'invisible':['|',('meli_state','=',True),('meli_category','!=',False)]}" />
                  <button name='product_post' type="object"
                    string="Publicar"
                    title="Publicar producto en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','!=',False)]}"
                    class="oe_stat_button"
                    icon="fa-globe"/>
                  <button name='product_post' type="object"
                    string="Actualizar"
                    title="Actualizar producto en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    class="oe_stat_button"
                    icon="fa-globe"/>
                  <button name='product_post_stock' type="object"
                    string="Publicar Stock"
                    title="Publicar Stock en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    class="oe_stat_button"
                    icon="fa-globe"/>
                  <button name='product_post_price' type="object"
                    string="Publicar Precio"
                    title="Publicar Precio en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    class="oe_stat_button"
                    icon="fa-globe"/>
                  <button name='product_meli_status_active' type="object"
                    string="Activar"
                    title="Activar producto en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    class="oe_stat_button"
                    icon="fa-check-square"
                    confirm="Esta seguro de Activar este Producto en Mercado Libre?"/>
                  <button name='product_meli_status_pause' type="object"
                    string="Pausar"
                    title="Pausar producto en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    class="oe_stat_button"
                    icon="fa-pause-circle"
                    confirm="Esta seguro de Pausar este Producto en Mercado Libre?"/>
                  <button name='product_meli_status_close' type="object"
                    string="Cerrar"
                    title="Cerrar producto en ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    icon="fa-times-circle-o"
                    class="oe_stat_button"
                    confirm="¿Esta seguro de Cerrar este Producto en Mercado Libre?"/>
                  <button name='product_meli_delete' type="object"
                    string="Eliminar"
                    title="Eliminar producto de ML"
                    attrs="{'invisible':['|',('meli_state','=',True),('meli_id','=',False)]}"
                    icon="fa-trash-o"
                    class="oe_stat_button"
                    confirm="¿Esta seguro de Eliminar este Producto en Mercado Libre?. Esta accion no podra revertirse"/>
                  <button name='product_meli_upload_image' type="object"
                    string="Subir"
                    title="Subir imagen a ML"
                    attrs="{'invisible':[('meli_state','=',True)]}"
                    class="oe_stat_button" icon="fa-cloud-upload"/>
                  <button name='product_meli_login' type="object"
                    class="oe_stat_button"
                    icon="fa-user-circle"
                    string="Iniciar Sesión"
                    title="Se requiere Iniciar Sesión en ML"
                    attrs="{'invisible':[('meli_state','=',False)]}"/>
                </div>
              </group>
              <group string="Informacion de ML">
                <group>
                  <field name="meli_post_required" invisible="1" />
                  <field name="meli_status" />
                  <field name="meli_sub_status" />
                  <field name="meli_state" invisible="1" />
                </group>
                <group>
                  <field name="meli_permalink" widget="url" />
                  <field name="meli_permalink_edit" widget="url"/>
                  <field name="meli_id" />
                  <field name="meli_id_variation"/>
                </group>
              </group>
              <group string="Detalle de Producto en ML">
                <group>
                  <field name="meli_title" />
                  <!--field name="meli_description_banner_id" on_change="product_on_change_meli_banner( meli_description_banner_id)" /-->
                  <field name="meli_category" options="{'no_create': True}"/>
                  <field name="meli_brand"/>
                  <field name="meli_model"/>
                  <field name="meli_listing_type" />
                  <field name="meli_buying_mode" />
                  <field name="meli_price_fixed" />
                  <field name="meli_price" attrs="{'readonly':[('meli_price_fixed', '=', False)]}"/>
                  <field name="meli_currency" />
                  <!--field name="meli_shipping_mode"/>
                  <field name="meli_shipping_method"/-->
                </group>
                <group>
                  <field name="meli_condition" />
                  <field name="meli_available_quantity" />
                  <field name="meli_warranty" />
                  <field name="meli_imagen_logo" />
                  <field name="meli_imagen_id" />
                  <field name="meli_imagen_link" />
                  <field name="meli_multi_imagen_id" />
                  <field name="meli_video" />
                </group>
              </group>
              <group string="Atributos">
                <group>
                  <field name="meli_attributes" />
                  <field name="meli_default_stock_product"/>
                </group>
              </group>
              <separator string="Descripcion del Producto en ML"
                colspan="2" />
              <field name="meli_description" />
              <separator string="Catalogo" colspan="1"/>
              <group name="catalogo">
                <field name="meli_catalog_listing"/>
                <field name="meli_catalog_product_id"/>
                <field name="meli_catalog_item_relations"/>
                <field name="meli_catalog_automatic_relist"/>
              </group>
              <separator string="Images" colspan="1"/>
              <field name="image_bindings" class="o_website_sale_image_list" context="{'default_name': name}" mode="kanban" options="{'create_text':'Add a Media'}" nolabel="1"/>
              <!--field name="product_template_image_ids" class="o_website_sale_image_list" context="{'default_name': name}" mode="kanban" options="{'create_text':'Add a Media'}" nolabel="1"/-->

            </sheet>
          </form>
        </field>
      </record>

      <record model="ir.ui.view" id="product_normal_mercadolibre_form_view">
          <field name="name">product.normal.mercadolibre.form.inherit</field>
          <field name="model">product.product</field>
          <field name="inherit_id" ref="product.product_normal_form_view" />
          <field name="arch" type="xml">
            <!--label for="sale_ok" position="after">
                  <field name="meli_pub" />
                  <label for="meli_pub" />
                  <field name="meli_master" />
                  <label for="meli_master" />
              </label-->
              <data>
                  <notebook>
										<page string="MercadoLibre Bindings" invisible="1">
											<field name="mercadolibre_bindings" invisible="0" >
                          <tree create="0" edit="1" delete="0" default_order='connection_account asc, name asc'>
                            <field name="connection_account"/>
                            <field name="name"/>
                            <field name="sku"/>
                            <!--field name="meli_status"/-->
                            <!--field name="barcode"/-->
                            <field name="conn_id" string="MercadoLibre Id"/>
                            <field name="conn_variation_id"  string="Variant Id"/>
                            <field name="price"/>
                            <field name="stock"/>
                            <field name="meli_shipping_logistic_type"/>
                            <field name="meli_permalink" widget="url"/>
                            <field name="meli_permalink_edit" widget="url"/>
                          </tree>
                      </field>
										</page>
								</notebook>
              </data>
              <xpath expr="//div[@name='button_box_mel']" position="after">
                <separator string="MercadoLibre Bindings" name="mercadolibre_bindings"/>
                <!--group string="ML Bindings" name="ML Bindings"-->
                  <field name="mercadolibre_bindings" invisible="0" >
                      <tree create="0" edit="1" delete="0" default_order='connection_account asc, name asc'>
                        <field name="connection_account"/>
                        <field name="name"/>
                        <field name="sku"/>
                        <field name="meli_status"/>
                        <field name="meli_sub_status"/>
                        <!--field name="barcode"/-->
                        <field name="conn_id" string="MercadoLibre Id"/>
                        <field name="conn_variation_id"  string="Variant Id"/>
                        <field name="price"/>
                        <field name="stock"/>
                        <field name="meli_permalink" widget="url"/>
                        <field name="meli_permalink_edit" widget="url"/>
                      </tree>
                  </field>
                <!--/group-->
              </xpath>
					</field>
			</record>

      <record model="ir.ui.view" id="product_tpl_mercadolibre_form_view">
        <field name="name">product.tpl.mercadolibre.form.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_only_form_view" />
        <field name="arch" type="xml">
            <!--label for="sale_ok" position="after">
                  <field name="meli_pub" />
                  <label for="meli_pub" />
                  <field name="meli_master" />
                  <label for="meli_master" />
              </label-->
              <data>
                  <notebook>
                    <page string="MercadoLibre Bindings" invisible="1">
                      <field name="mercadolibre_bindings" invisible="0">
                          <tree create="0" edit="1" delete="0" default_order='connection_account asc, name asc'>
                            <field name="connection_account"/>
                            <field name="name"/>
                            <field name="sku"/>
                            <!--field name="barcode"/-->
                            <field name="conn_id" string="MercadoLibre Id"/>
                            <field name="conn_variation_id"  string="Variant Id"/>
                            <field name="price"/>
                            <field name="stock"/>
                            <field name="meli_shipping_logistic_type"/>
<!--                            <field name="meli_permalink" widget="url"/>-->
<!--                            <field name="meli_permalink_edit" widget="url"/>                            -->
                          </tree>
                      </field>
                    </page>
                </notebook>
              </data>
              <xpath expr="//div[@name='button_box_mel']" position="inside">
                <button name='product_template_post_stock' type="object"
                  string="Publicar Stock"
                  title="Publicar Stock en ML"
                  class="oe_stat_button"
                  icon="fa-globe"/>
                <button name='product_template_post_price' type="object"
                  string="Publicar Precio"
                  title="Publicar Precio en ML"
                  confirm="¿Está seguro que quiere publicar/actualizar precio en ML?"
                  class="oe_stat_button"
                  icon="fa-globe"/>
              </xpath>
              <xpath expr="//group[@name='ML actions']" position="after">
                <separator string="MercadoLibre Bindings" name="mercadolibre_bindings"/>
                <!--group string="ML Bindings" name="ML Bindings"-->
                  <field name="mercadolibre_bindings" invisible="0" >
                      <tree create="0" edit="1" delete="0" default_order='connection_account asc, name asc'>
                        <field name="connection_account"/>
                        <field name="name"/>
                        <field name="sku"/>
                        <field name="meli_status"/>
                        <!--field name="barcode"/-->
                        <field name="conn_id" string="MercadoLibre Id"/>
                      </tree>
                  </field>
                <!--/group-->
              </xpath>
          </field>
      </record>

      <!--Search views -->
      <!--Search view - Product Template -->
      <record id="mercadolibre_product_template_search_view" model="ir.ui.view">
      	<field name="name">Products - Search</field>
      	<field name="model">product.template</field>
      	<field name="arch" type="xml">
      		<search  string="Search MercadoLibre Products Templates">
      			<field name="name" />
            <field name="default_code" />
            <field name="barcode" />
            <filter string="Asignados a MercadoLibre"
  						domain="[('mercadolibre_bindings', '!=', False)]"
  						name="mercadolibre_filter" />
            <filter string="No Asignados a MercadoLibre"
  						domain="[('mercadolibre_bindings', '=', False)]"
  						name="not_mercadolibre_filter" />
      		</search>
      	</field>
      </record>

      <!--Search view - Product Product -->
      <record id="mercadolibre_products_search_view" model="ir.ui.view">
      	<field name="name">Product Variants - Search</field>
      	<field name="model">product.product</field>
      	<field name="arch" type="xml">
      		<search  string="Search MercadoLibre Products">
      			<field name="name" />
            <field name="default_code" />
            <field name="barcode" />
            <filter string="Asignados a MercadoLibre"
  						domain="[('mercadolibre_bindings', '!=', False)]"
  						name="mercadolibre_filter" />
            <filter string="No Asignados a MercadoLibre"
  						domain="[('mercadolibre_bindings', '=', False)]"
  						name="not_mercadolibre_filter" />
      		</search>
      	</field>
      </record>

      <!--Search view - Product Template Bindings only -->
      <record id="mercadolibre_bindings_product_template_search_view" model="ir.ui.view">
      	<field name="name">Product Bindings - Search</field>
      	<field name="model">mercadolibre.product_template</field>
      	<field name="arch" type="xml">
      		<search  string="Search Product Template Bindings">
      			<field name="name" />
            <field name="conn_id" string="Meli ID (MLXYYYYYY)"/>
            <field name="sku" />
            <field name="barcode"/>
            <!--field name="active" /-->
            <field name="product_tmpl_id" />
            <filter string="MercadoLibre Active"
        						domain="[('active', '!=', False)]"
        						name="binding_active" />
            <filter string="Product Template desasignado"
        						domain="[('product_tmpl_id', '=', False)]"
        						name="binding_product_template_unassigned" />
            <filter string="Skus Sin Asignacion"
        						domain="[('sku', 'like', '%False%')]"
        						name="binding_product_template_skus_unassigned" />
      		</search>
      	</field>
      </record>

      <!--Search view - Product Bindings only -->
      <record id="mercadolibre_bindings_product_search_view" model="ir.ui.view">
      	<field name="name">Product Variants Bindings - Search</field>
      	<field name="model">mercadolibre.product</field>
      	<field name="arch" type="xml">
      		<search  string="Search Product Bindings">
      			<field name="name" />
            <field name="conn_id" string="Meli ID (MLXYYYYYY)"/>
            <field name="conn_variation_id" string="Meli ID Variation (ZZZZZZZZ)"/>
            <field name="sku" />
            <field name="barcode"/>
            <!--field name="active" /-->
            <field name="product_id" />
            <filter string="MercadoLibre Active"
        						domain="[('active', '!=', False)]"
        						name="binding_active" />
            <filter string="Product desasignado"
        						domain="[('product_id', '=', False)]"
        						name="binding_product_unassigned" />
            <filter string="Skus Sin Asignacion"
        						domain="[('sku', 'like', '%False%')]"
        						name="binding_product_skus_unassigned" />
      		</search>
      	</field>
      </record>

      <!--Tree views -->
      <!--Tree view - Product Template -->
      <record id="view_mercadolibre_product_template_tree" model="ir.ui.view">
      	<field name="name">mercadolibre.product.template.tree</field>
      	<field name="model">product.template</field>
      	<field name="arch" type="xml">
      		<tree create="0" edit="1" delete="1" default_order='name asc, default_code asc'>
      			<field name="name" />
            <field name="default_code" />
            <field name="barcode" />
            <field name="mercadolibre_bindings" />
      		</tree>
      	</field>
      </record>

      <!--Tree view - Product -->
      <record id="view_mercadolibre_product_tree" model="ir.ui.view">
      	<field name="name">mercadolibre.product.tree</field>
      	<field name="model">product.product</field>
      	<field name="arch" type="xml">
      		<tree create="0" edit="1" delete="1" default_order='name asc, default_code asc'>
      			<field name="name" />
            <field name="default_code" />
            <field name="barcode" />
            <field name="mercadolibre_bindings" />
      		</tree>
      	</field>
      </record>

      <!--Tree view - Product Template Binding -->
      <record id="view_mercadolibre_bindings_product_template_tree" model="ir.ui.view">
      	<field name="name">mercadolibre.product_template.tree</field>
      	<field name="model">mercadolibre.product_template</field>
      	<field name="arch" type="xml">
      		<tree create="1" edit="1" delete="1" default_order='name asc, connection_account asc'>
            <!--field name="sku" /-->
      			<field name="name" />
            <!--field name="active" /-->
            <field name="connection_account" />
            <field name="sku"/>
            <field name="barcode"/>
            <field name="conn_id" string="MercadoLibre Id"/>
            <field name="meli_variants_status"/>
            <field name="product_tmpl_id"/>
      		</tree>
      	</field>
      </record>

      <!--Tree view - Product Binding -->
      <record id="view_mercadolibre_bindings_product_tree" model="ir.ui.view">
      	<field name="name">mercadolibre.product.tree</field>
      	<field name="model">mercadolibre.product</field>
      	<field name="arch" type="xml">
      		<tree create="1" edit="1" delete="1" default_order='name asc, connection_account asc'>
            <!--field name="sku" /-->
      			<field name="name" />
            <!--field name="active" /-->
            <field name="connection_account" />
            <field name="sku"/>
            <field name="barcode"/>
            <field name="conn_id" string="MercadoLibre Id"/>
            <field name="conn_variation_id"  string="Variant Id"/>
            <field name="stock" />
            <!--field name="meli_status"/>
            <field name="meli_sub_status"/-->
            <field name="meli_permalink" widget="url"/>
            <field name="meli_permalink_edit" widget="url"/>
            <field name="product_id"/>
            <!--field name="active"  optional="hide"/-->
            <field name="full_update" optional="hide"/>
            <field name="image_update" optional="hide"/>
            <field name="price_update" optional="hide"/>
            <field name="stock_update" optional="hide"/>
            <field name="stock_move_update" optional="hide"/>
      		</tree>
      	</field>
      </record>

      <!-- IMAGES -->
      <record id="view_mercadolibre_product_image_form" model="ir.ui.view">
          <field name="name">mercadolibre.product.image.view.form</field>
          <field name="model">mercadolibre.product.image</field>
          <field name="arch" type="xml">
              <form string="MercadoLibre Product Images">
                  <field name="sequence" invisible="1"/>
                  <div class="row o_website_sale_image_modal">
                      <div class="col-md-6 col-xl-5">
                          <label for="name" string="Image Name"/>
                          <h2><field name="name" placeholder="Image Name"/></h2>
                          <label for="video_url" string="Video URL"/><br/>
                          <field name="video_url"/><br/>
                      </div>
                      <div class="col-md-6 col-xl-7 text-center o_website_sale_image_modal_container">
                          <div class="row">
                              <div class="col">
                                  <field name="image_1920" widget="image"/>
                              </div>
                              <div class="col" attrs="{'invisible': [('video_url', 'in', ['', False])]}">
                                  <div class="o_video_container p-2">
                                      <span>Video Preview</span>
                                      <field name="embed_code" class="mt-2" widget="video_preview"/>
                                      <h4 class="o_invalid_warning text-muted text-center" attrs="{'invisible': [('embed_code', '!=', False)]}">
                                          Please enter a valid Video URL.
                                      </h4>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </form>
          </field>
      </record>
      <record id="mercadolibre_product_image_view_kanban" model="ir.ui.view">
          <field name="name">mercadolibre.product.image.view.kanban</field>
          <field name="model">mercadolibre.product.image</field>
          <field name="arch" type="xml">
              <kanban string="MercadoLibre Product Images" default_order="sequence">
                  <field name="id"/>
                  <field name="name"/>
                  <field name="image_1920"/>
                  <field name="sequence" widget="handle"/>
                  <templates>
                      <t t-name="kanban-box">
                          <div class="card oe_kanban_global_click p-0">
                              <div class="o_squared_image">
                                  <img class="card-img-top" t-att-src="kanban_image('mercadolibre.product.image', 'image_1920', record.id.raw_value)" t-att-alt="record.name.value"/>
                              </div>
                              <div class="card-body p-0">
                                  <h4 class="card-title p-2 m-0 bg-200">
                                      <small><field name="name"/></small>
                                  </h4>
                              </div>
                              <!-- below 100 Kb: good -->
                              <t t-if="record.image_1920.raw_value.length &lt; 100*1000">
                                  <t t-set="size_status" t-value="'badge-success'"/>
                                  <t t-set="message">Acceptable file size</t>
                              </t>
                              <!-- below 1000 Kb: decent -->
                              <t t-elif="record.image_1920.raw_value.length &lt; 1000*1000">
                                  <t t-set="size_status" t-value="'badge-warning'" />
                                  <t t-set="message">Huge file size. The image should be optimized/reduced.</t>
                              </t>
                              <!-- above 1000 Kb: bad -->
                              <t t-else="1">
                                  <t t-set="size_status" t-value="'badge-danger'"/>
                                  <t t-set="message">Optimization required! Reduce the image size or increase your compression settings.</t>
                              </t>
                              <span t-attf-class="badge #{size_status} o_product_image_size" t-esc="record.image_1920.value" t-att-title="message"/>
                          </div>
                      </t>
                  </templates>
              </kanban>
          </field>
      </record>

      <!--Actions windows -->
      <!--Actions Product Template -->
      <record id="action_mercadolibre_product_template_tree" model="ir.actions.act_window">
      	<field name="name">Products</field>
      	<field name="type">ir.actions.act_window</field>
      	<field name="res_model">product.template</field>
      	<!--field name="view_type">form</field-->
      	<field name="view_mode">tree,form</field>
        <field name="context">{"search_default_mercadolibre_filter":1}</field>
        <field name="view_id" ref="view_mercadolibre_product_template_tree"/>
      	<field name="search_view_id" ref="mercadolibre_product_template_search_view" />
      </record>
      <!--Actions Product -->
      <record id="action_mercadolibre_products_tree" model="ir.actions.act_window">
      	<field name="name">Product Variants</field>
      	<field name="type">ir.actions.act_window</field>
      	<field name="res_model">product.product</field>
      	<!--field name="view_type">form</field-->
      	<field name="view_mode">tree,form</field>
        <field name="context">{"search_default_mercadolibre_filter":1}</field>
        <field name="view_id" ref="view_mercadolibre_product_tree"/>
      	<field name="search_view_id" ref="mercadolibre_products_search_view" />
      </record>
      <!--Actions Product Template Bindings only-->
      <record  id="action_mercadolibre_bindings_product_template_tree" model="ir.actions.act_window">
      	<field name="name">Product Bindings</field>
      	<field name="type">ir.actions.act_window</field>
      	<field name="res_model">mercadolibre.product_template</field>
      	<!--field name="view_type">form</field-->
      	<field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_mercadolibre_bindings_product_template_tree"/>
      	<field name="search_view_id" ref="mercadolibre_bindings_product_template_search_view" />
      </record>
      <!--Actions Product Bindings only-->
      <record  id="action_mercadolibre_bindings_products_tree" model="ir.actions.act_window">
      	<field name="name">Product Variant Bindings</field>
      	<field name="type">ir.actions.act_window</field>
      	<field name="res_model">mercadolibre.product</field>
      	<!--field name="view_type">form</field-->
      	<field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_mercadolibre_bindings_product_tree"/>
      	<field name="search_view_id" ref="mercadolibre_bindings_product_search_view" />
      </record>


      <!--Menu Items - MercadoLibre -->

      <menuitem id="menu_mercadolibre_connectors" name="MercadoLibre Multiple" parent="meli_oerp.menu_meli" sequence="1"
          groups="meli_oerp_multiple.group_mercadolibre_connectors_manager" />

          <!--Menu Items - Products -->
          <menuitem id="menu_mercadolibre_product_template"
                    action="action_mercadolibre_product_template_tree"
                    parent="menu_mercadolibre_connectors"
                    name="Products"  sequence="2"/>

          <!--Menu Items - Product Variants -->
          <menuitem id="menu_mercadolibre_products"
                    action="action_mercadolibre_products_tree"
                    parent="menu_mercadolibre_connectors"
                    name="Product Variants"  sequence="3"/>


          <!--Menu Items - Product Bindings -->
          <menuitem id="menu_mercadolibre_bindings_product_template"
                action="action_mercadolibre_bindings_product_template_tree"
                parent="menu_mercadolibre_connectors"
                name="Product Bindings"  sequence="4"/>

          <!--Menu Items - Product Variant Bindings -->
          <menuitem id="menu_mercadolibre_bindings_products"
                          action="action_mercadolibre_bindings_products_tree"
                          parent="menu_mercadolibre_connectors"
                          name="Product Variant Bindings"  sequence="5"/>


		</data>
</odoo>
